{"version":3,"sources":["modules-control.js"],"names":["$","extend","getUrlVars","hash","vars","hashes","window","location","href","slice","indexOf","split","i","length","push","getUrlVar","name","document","ready","callbackModalFormValidator","validate","rules","phone","required","messages","click","empty","removeClass","modal","submit","e","preventDefault","formMethod","this","attr","formAction","formData","serialize","errorList","ajax","type","url","dataType","data","success","resp","hasClass","addClass","append","on","event","target","srcElement","options","index","src","parentNode","links","getElementsByTagName","blueimp","Gallery","Swiper","slidesPerView","spaceBetween","loop","navigation","nextEl","prevEl","jQuery"],"mappings":"CAAA,SAAWA,GAGXA,EAAEC,OAAO,CACLC,WAAY,WAGR,IAFA,IAAeC,EAAXC,EAAO,GACPC,EAASC,OAAOC,SAASC,KAAKC,MAAMH,OAAOC,SAASC,KAAKE,QAAQ,KAAO,GAAGC,MAAM,KAC5EC,EAAI,EAAGA,EAAIP,EAAOQ,OAAQD,IAC/BT,EAAOE,EAAOO,GAAGD,MAAM,KACvBP,EAAKU,KAAKX,EAAK,IACfC,EAAKD,EAAK,IAAMA,EAAK,GAEzB,OAAOC,GAEXW,UAAW,SAAUC,GACjB,OAAOhB,EAAEE,aAAac,MAK9BhB,EAAEiB,UAAUC,MAAM,WAGd,IAAIC,EAA6BnB,EAAE,sBAAsBoB,SAAS,CAC9DC,MAAO,CACHC,MAAO,CACHC,UAAU,IAGlBC,SAAU,CACNF,MAAO,CACHC,SAAU,uCAMtBvB,EAAE,sBAAsByB,MAAM,WAC1BzB,EAAE,eAAe0B,QACjB1B,EAAE,4CAA4C2B,YAAY,SAC1D3B,EAAE,kBAAkB4B,MAAM,UAI9B5B,EAAE,sBAAsB6B,OAAO,SAAUC,GAE3CA,EAAEC,iBAEI,IAAIC,EAAahC,EAAEiC,MAAMC,KAAK,UAE1BC,EAAanC,EAAEiC,MAAMC,KAAK,UAG1BE,EAAWpC,EAAEiC,MAAMI,YAE4B,IAAhDlB,EAA2BmB,UAAUzB,QAEpCb,EAAEuC,KAAK,CACZC,KAAMR,EACNS,IAAKN,EACIO,SAAU,OACnBC,KAAMP,EACNQ,QAAS,SAAUC,GAEd7C,EAAE,kBAAkB8C,SAAS,UACjB9C,EAAE,4CAA4C+C,SAAS,SACvD/C,EAAE,eAAegD,OAAOH,WAYhD7C,EAAE,kBAAkBiD,GAAG,QAAS,SAAUC,GAEtC,IAAIC,GADJD,EAAQA,GAAS5C,OAAO4C,OACLC,QAAUD,EAAME,WAE/BC,EAAU,CAACC,MADJH,EAAOI,IAAMJ,EAAOK,WAAaL,EAChBD,MAAOA,GAC/BO,EAAQxB,KAAKyB,qBAAqB,KACtCC,QAAQC,QAAQH,EAAOJ,KAMd,IAAIQ,OAAO,oBAAoB,CACxCC,cAAe,EACfC,aAAc,GACdC,MAAM,EACNC,WAAY,CACRC,OAAQ,sBACRC,OAAQ,yBAhGhB,CAoGGC","file":"modules-control.js","sourcesContent":["(function ($) {\n//ЧТЕНИЕ ПАРАМЕТРОВ ЗАПРОСА\n//------------------------------------------------------------\n$.extend({\n    getUrlVars: function () {\n        var vars = [], hash;\n        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n        for (var i = 0; i < hashes.length; i++) {\n            hash = hashes[i].split('=');\n            vars.push(hash[0]);\n            vars[hash[0]] = hash[1];\n        }\n        return vars;\n    },\n    getUrlVar: function (name) {\n        return $.getUrlVars()[name];\n    }\n});\n//------------------------------------------------------------\n\n$(document).ready(function(){\n\n    // Запускаем валидацию формы обратного звонка\n    var callbackModalFormValidator = $(\"#callbackModalForm\").validate({\n        rules: {\n            phone: {\n                required: true,\n            },\n        },\n        messages: {\n            phone: {\n                required: 'необходимо ввести номер телефона',\n            },\n        },\n    });\n\n    // Приводим форму обратного звонка в исходное состояние и открываем модальное окно\n    $('#openCallbackModal').click(function () {\n        $('#ajaxResult').empty();\n        $(\"#callbackModalForm, #callbackModalFooter\").removeClass('_hide');\n        $('#callbackModal').modal('show');\n    })\n\n    // Отправка данных формы обратного звонка\n    $('#callbackModalForm').submit(function (e) {\n\t\t//отменяем стандартное действие при отправке формы\n\t\te.preventDefault();\n        //берем из формы метод передачи данных\n        var formMethod = $(this).attr('method');\n        //получаем адрес скрипта на сервере, куда нужно отправить форму\n        var formAction = $(this).attr('action');\n        //получаем данные, введенные пользователем в формате input1=value1&input2=value2...,\n        //то есть в стандартном формате передачи данных формы + добавляем параметры из адресной строки\n        var formData = $(this).serialize();\n\n        if(callbackModalFormValidator.errorList.length === 0) {\n\n            $.ajax({\n    \t\t\ttype: formMethod,\n    \t\t\turl: formAction,\n                dataType: 'text',\n    \t\t\tdata: formData,\n    \t\t\tsuccess: function (resp) {\n\n    \t\t\t\tif ($('#callbackModal').hasClass('show')) {\n                        $(\"#callbackModalForm, #callbackModalFooter\").addClass('_hide');\n                        $('#ajaxResult').append(resp);\n    \t\t\t\t}\n    \t\t\t}\n    \t\t});\n        }\n\t});\n\n});\n//------------------------------------------------------------\n\n// ИНИЦИАЛИЗАЦИЯ BLUEIMP GALLERY\n//------------------------------------------------------------\n$('.blueimp-links').on('click', function (event) {\n    event = event || window.event;\n    var target = event.target || event.srcElement,\n        link = target.src ? target.parentNode : target,\n        options = {index: link, event: event},\n        links = this.getElementsByTagName('a');\n    blueimp.Gallery(links, options);\n});\n//------------------------------------------------------------\n\n// ИНИЦИАЛИЗАЦИЯ СЛАЙДЕРА\n//------------------------------------------------------------\nvar swiper = new Swiper('.swiper-container',{\n    slidesPerView: 4,\n    spaceBetween: 30,\n    loop: true,\n    navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',\n    },\n});\n//------------------------------------------------------------\n})(jQuery);\n"]}